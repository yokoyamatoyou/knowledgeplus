# ナレッジGPTアプリケーション

## 概要

本アプリケーションは、ナレッジベース検索とGPTチャット機能を統合したインターフェースを提供します。RAG（Retrieval-Augmented Generation）用に作成した独自のナレッジベースを簡単に検索し、OpenAIのGPT-4.1-miniを使用して高度な対話を行うことができます。

基本的なセットアップ手順については、リポジトリルートのREADME.mdをご参照ください。

## 主な機能

- **ナレッジベース検索**：ベクトル検索とBM25を組み合わせたハイブリッド検索で高精度な検索が可能
- **GPTチャット**：OpenAIのGPT-4.1-miniを利用した対話機能
- **ペルソナ設定**：用途に合わせたペルソナの選択と作成
- **会話管理**：会話履歴の保存と読み込み
- **会話エクスポート**：PDFまたはテキスト形式での会話内容のエクスポート
- **テーマ切替**：ダークモード/ライトモードの切替
- **デスクトップアプリケーション**：PyInstallerによるスタンドアロンEXE化

## 導入方法

### 前提条件

- Python 3.10以上
- OpenAI API キー

### インストール手順

1. リポジトリをクローン
   ```
   git clone https://github.com/yourusername/knowledge-gpt-app.git
   cd knowledge-gpt-app
   ```

2. 依存パッケージのインストール
   ```
   pip install -r requirements.txt
   ```

3. 環境変数の設定
   ```
   set OPENAI_API_KEY=your_api_key_here  # Windows
   # または
   export OPENAI_API_KEY=your_api_key_here  # Linux/Mac
   ```

4. アプリケーション起動
   ```
   streamlit run app.py
   ```

### EXE形式のアプリケーションビルド

スタンドアロンの実行ファイルを作成するには、以下のコマンドを実行します：

```
python build_exe.py
```

ビルドが完了すると、`dist`フォルダに実行ファイルが生成されます。

## ナレッジベースの設定

本アプリケーションは、以下の構造のナレッジベースを使用します：

```
knowledge_base/
├── [ナレッジベース名]/
│   ├── chunks/          # テキストチャンク
│   ├── metadata/        # メタデータ
│   ├── embeddings/      # ベクトル埋め込み
│   ├── README.md        # ナレッジベース説明
│   └── kb_metadata.json # 全体メタデータ
```

## ペルソナの設定

デフォルトで以下のペルソナが用意されています：

1. マーケティング専門家
2. 営業専門家
3. バックオフィス専門家
4. カウンセラー
5. 経営コンサルタント
6. 法律専門家

独自のペルソナを作成する場合は、アプリケーション内の「カスタムペルソナ作成」機能を使用してください。

## 制限事項

- ナレッジベースの検索は、あらかじめ用意されたナレッジベースのみを対象とします
- GPT-4.1-miniの利用にはAPIキーと課金が必要です
- 大規模なナレッジベースの場合、メモリ消費が増加する可能性があります

## トラブルシューティング

- アプリケーションが起動しない場合は、環境変数の設定を確認してください
- 検索結果が表示されない場合は、ナレッジベースの構造が正しいか確認してください
- EXE化に失敗する場合は、すべての依存パッケージがインストールされているか確認してください

## ライセンス

MIT License
